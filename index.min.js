"use strict";let apiKey="582eaef8fa88ead22261302ca8720f2b",city=localStorage.getItem("city"),units;localStorage.getItem('units')!=null?units=localStorage.getItem('units'):units="metric";let unitSymbol,speedSpec;units==="metric"?(unitSymbol="Â°C",speedSpec="meters/second"):units==="farenheit"?(unitSymbol="Â°F",speedSpec="miles/hour"):units==="standard"&&(unitSymbol="K");const url=`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=${units}`;async function get_stat(b){let a=await fetch(b);if(a.status==200){let b=await a.json(),n=b.name,w=b.sys.country,v=b.weather[0].icon,u=`https://openweathermap.org/img/wn/${v}.png`,l=b.weather[0].description;l=l.replace(/\w\S*/g,a=>a.replace(/^\w/,a=>a.toUpperCase()));let e=b.timezone;e=e/3600,e>0&&(e=`+${e}`);let t=b.main.temp,s=b.main.feels_like,x=b.main.temp_max,r=b.main.temp_min,o=b.main.humidity,y=b.wind.speed,p=b.wind.deg,q=b.wind.gust,d=b.sys.sunrise;d=new Date(d*1e3);let k=d.getHours(),j=d.getMinutes(),i=d.getSeconds();k<10&&(k="0"+k),j<10&&(j="0"+j),i<10&&(i="0"+i),d=`${k}:${j}:${i}`;let c=b.sys.sunset;c=new Date(c*1e3);let h=c.getHours(),g=c.getMinutes(),f=c.getSeconds();h<10&&(h="0"+h),g<10&&(g="0"+g),f<10&&(f="0"+f),c=`${h}:${g}:${f}`;let m=b.dt;m=new Date(m*1e3),document.getElementById('title').innerHTML=`${n} | Weather Dashboard`,document.getElementById('dashboard-heading').innerHTML=`${n}, ${w}`,document.getElementById('weatherDesc').innerHTML=`<img src="${u}" style="vertical-align:middle;" width="35px" height="35px">${l} Â· UTC ${e}`,document.getElementById('temp').innerHTML=`${t} ${unitSymbol}`,document.getElementById('feelsLike').innerHTML=`${s} ${unitSymbol}`,document.getElementById('tempHigh').innerHTML=`${x} ${unitSymbol}`,document.getElementById('tempLow').innerHTML=`${r} ${unitSymbol}`,document.getElementById('humidity').innerHTML=`${o}%`,document.getElementById('windSpeed').innerHTML=`${y}`,document.getElementById('windGust').innerHTML=`${q}`,document.getElementById('windDir').innerHTML=`${p}Â°`,document.getElementById('speedSpec').innerHTML=`(${speedSpec})`,document.getElementById('sunrise').innerHTML=`${d}`,document.getElementById('sunset').innerHTML=`${c}`,document.getElementById('lastUpdated').innerHTML=`ðŸ•‘ Last Updated: ${m}`,console.log(b)}else{document.getElementById("grid").style.display="none",document.getElementById("weatherDesc").style.display="none",document.getElementById('lastUpdated').style.display="none",document.getElementById('dashboard-heading').style.color="red",document.getElementById('dashboard-heading').innerHTML="Error, invalid city specified.",document.getElementById('invalid-wrapper').style.display="flex",console.log(`Error! ${a.status}`);for(let a=5;a>0;a--)document.getElementById('invalid-button').innerHTML=`<a href="../index.html">You will be redirected in ${a} seconds.</a>`,await new Promise(a=>setTimeout(a,1e3));document.location.href="../index.html"}}get_stat(url)